@page "/"
@using CurrieTechnologies.Razor.SweetAlert2
@using Smart.Design.Blazor.WebSample.Extensions

@inject IJSRuntime _js;
@inject SweetAlertService _swal;

<input type="text" @bind-value="Firstname"  @onkeyup="InputOnKeyUp"/>

@*<SmartInputText Label="Firstname" @bind-Value="Firstname"  @onkeyup="FirstnameOnKeyUp" />*@

<input Label="Lastname" @bind-value="Lastname" />


<input Label="City" @bind-value="City" @onkeyup="Callback" />


<button @onclick="ButtonOnClick" >Click me</button>

<p>@Val</p>

@code
{
	public string Firstname { get; set; }

	public string? Lastname { get; set; }
	
	public string? City { get; set; }

	private void ButtonOnClick()
	{
		Val = " toto: " + Firstname + " " + Lastname +  " " + City ;
	}

	public string Val { get; set; }

	private void FirstnameOnKeyUp(KeyboardEventArgs obj)
	{
		//_swal.FireAsync("Firsname", $"Firstname is {Firstname}", SweetAlertIcon.Success);
		Console.WriteLine(Firstname);
		Console.WriteLine(obj.ToJson());
	}

	private void Callback(KeyboardEventArgs obj)
	{
	}

	public bool IsDisabled { get; set; }


	public class Member
	{
		public string Firstname { get; set; }

		public string? Lastname { get; set; }
	
		public string? City { get; set; }
	}

	private async Task InputOnKeyUp(KeyboardEventArgs obj)
	{
		await _swal.FireAsync("Firsname", $"Firstname is {Firstname}", SweetAlertIcon.Success);
	}
}
